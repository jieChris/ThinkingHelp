# 前端功能复测清单

> 用途: 覆盖主要页面与用户完整流程的可用性验证。  
> 建议在后端启动、数据库完成迁移后执行。

## 1. 登录与路由
- 页面: `/login`
  - 输入账号密码登录
  - 预期: 跳转到 `/dashboard`，左侧菜单可用，token 写入 localStorage
- 访问受保护路由(未登录)
  - 预期: 跳转到 `/login`

---

## 2. 健康档案
- 页面: `/health`
  - 填写基础信息、慢病标签、过敏禁忌并保存
  - 预期: 弹出保存成功提示
- 刷新页面后再次进入
  - 预期: 数据仍保留并回填

---

## 3. 健康记录(综合)
- 页面: `/health` -> “数据记录”
  - 批量填写并保存
  - 预期: 表格出现新增记录
- 点击“删除”
  - 预期: 列表移除对应记录

---

## 4. 饮食记录
- 页面: `/diet`
  - 选择餐别、食物、分量并记录
  - 预期: 提示成功，页面显示记录摘要

---

## 5. 食谱中心
- 页面: `/plan`
  - 点击“生成本周推荐食谱”
  - 预期: 显示表格与采购清单
- 点击“导出食谱 PDF”
  - 预期: 下载 `meal_plan.pdf`

---

## 6. AI 营养师对话
- 页面: `/chat`
  - 发送问题
  - 预期: 流式输出，内容无 `data:` 前缀
- 点击“停止”
  - 预期: 流式中断，按钮恢复“发送”

### 6.1 对话记录
- 点击“新建”创建新对话
  - 预期: 新对话出现，旧记录保留
- 点击左侧历史对话继续聊天
  - 预期: 记录可继续追加
- 重命名对话标题
  - 预期: 标题更新并持久化
- 删除对话
  - 预期: 记录删除，若删除当前对话则切换到其他对话
- 离开 `/chat` 再返回
  - 预期: 当前对话不丢失

---

## 7. 个性化设置
- 页面: `/settings`
  - 修改字号/AI 性格/通知开关
  - 预期: 保存成功，刷新后仍保留
- 点击“导出个人数据”
  - 预期: 下载 `user_data.txt`

---

## 8. 个人中心
- 页面: `/user/profile`
  - 修改昵称/性别并保存
  - 预期: 头部昵称同步更新
- 上传头像
  - 预期: 头像替换成功并可刷新后保留

---

## 9. 管理员(仅 ADMIN)
- 页面: `/admin/users`
  - 列表加载
  - 预期: 分页与角色标签正确
  - 修改会员等级
  - 预期: 保存成功并刷新列表

---

## 10. 仪表盘联动
- 页面: `/dashboard`
  - 卡片显示 BMI/血压/今日记录
  - 预期: 与健康记录、饮食记录联动
